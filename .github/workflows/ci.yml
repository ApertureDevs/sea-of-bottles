name: Continuous Integration checks

on: push

jobs:
  global-ci:
    name: Global CI
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Add Task runner
        run: |
          curl -sL https://taskfile.dev/install.sh | sh && echo "./bin" >> $GITHUB_PATH
      - name: YAML linter
        run: |
          task global-yaml-linter-check --summary
          task global-yaml-linter-check
      - name: Markdown linter
        run: |
          task global-markdown-linter-check --summary
          task global-markdown-linter-check
      - name: Commit linter
        run: |
          task global-commit-linter-check --summary
          task global-commit-linter-check
